"use strict";(self.webpackChunkmagic_app_2=self.webpackChunkmagic_app_2||[]).push([[171],{1171:(w,d,l)=>{l.r(d),l.d(d,{CardModule:()=>b});var g=l(6895),p=l(529),u=l(5678),h=l(9685),C=l(2529),x=l(9300),t=l(4650),y=l(1135);let f=(()=>{class e{constructor(a){this.http=a,this.card=new y.X(null)}loadCard(a){this.http.get(`https://api.magicthegathering.io/v1/cards/${a}`).subscribe(o=>{const{card:n=null}=o;this.card.next(n)})}}return e.\u0275fac=function(a){return new(a||e)(t.LFG(p.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var v=l(7227);let A=(()=>{class e{transform(a){let n=a.match(/{(.*?)}/g);console.log(n);let r=[];for(let i=0;i<n.length;i++)3===n[i].length&&"T"!==n[i].charAt(1)&&r.push(`<img style="max-height:14px;" src="https://gatherer.wizards.com/Handlers/Image.ashx?size=medium&name=${n[i].charAt(1)}&type=symbol" alt="${n[i].charAt(1)}"></img>`),3===n[i].length&&"T"===n[i].charAt(1)&&r.push('<img style="max-height:14px;" src="https://gatherer.wizards.com/Handlers/Image.ashx?size=medium&name=tap&type=symbol" alt="tap"></img>'),5===n[i].length&&"/"===n[i].charAt(2)&&r.push(`<img style="max-height:14px;" src="https://gatherer.wizards.com/Handlers/Image.ashx?size=medium&name=${n[i].charAt(1)}${n[i].charAt(3)}&type=symbol" alt="${n[i].charAt(1)}${n[i].charAt(3)}"></img>`),n[i].length>3&&"/"!==n[i].charAt(2)&&r.push(`<img style="max-height:14px;" src="https://gatherer.wizards.com/Handlers/Image.ashx?size=medium&name=${n[i].slice(1,n[i].length-1)}&type=symbol" alt="${n[i].slice(1,n[i].length-1)}"></img>`);return console.log(r),document.getElementById("manaCost").innerHTML=r.join(""),r.join("")}}return e.\u0275fac=function(a){return new(a||e)},e.\u0275pipe=t.Yjl({name:"manaCostIcons",type:e,pure:!0}),e})(),Z=(()=>{class e{transform(a){let o=/{(.*?)}/g,n=a.match(o),r=a.split(o).filter(Boolean);for(let s=0;s<r.length;s++)if(1===r[s].length)for(let m=0;m<n.length;m++)n[m].charAt(1)===r[s]&&(r[s]=n[m]);let i=[];if(null===n)return a;if(null!==n){for(let s=0;s<r.length;s++)"{"===r[s].charAt(0)?(3===r[s].length&&"T"!==r[s].charAt(1)&&i.push(`<img style="max-height:14px;" src="https://gatherer.wizards.com/Handlers/Image.ashx?size=medium&name=${r[s].charAt(1)}&type=symbol" alt="${r[s].charAt(1)}"></img>`),3===r[s].length&&"T"===r[s].charAt(1)&&i.push('<img style="max-height:14px;" src="https://gatherer.wizards.com/Handlers/Image.ashx?size=medium&name=tap&type=symbol" alt="tap"></img>'),5===r[s].length&&"/"===r[s].charAt(2)&&i.push(`<img style="max-height:14px;" src="https://gatherer.wizards.com/Handlers/Image.ashx?size=medium&name=${r[s].charAt(1)}${r[s].charAt(3)}&type=symbol" alt="${r[s].charAt(1)}${r[s].charAt(3)}"></img>`),r[s].length>3&&"/"!==r[s].charAt(2)&&i.push(`<img style="max-height:14px;" src="https://gatherer.wizards.com/Handlers/Image.ashx?size=medium&name=${r[s].slice(1,r[s].length-1)}&type=symbol" alt="${r[s].slice(1,r[s].length-1)}"></img>`)):i.push(r[s]);return document.getElementById("text").innerHTML=i.join(""),i.join("")}}}return e.\u0275fac=function(a){return new(a||e)},e.\u0275pipe=t.Yjl({name:"textIcons",type:e,pure:!1}),e})();function T(e,c){1&e&&(t.TgZ(0,"div"),t._UZ(1,"mat-spinner"),t.qZA())}function I(e,c){if(1&e&&t._UZ(0,"img",7),2&e){const a=t.oxw(2);t.Q6J("src",a.card.imageUrl,t.LSH)}}function U(e,c){if(1&e&&(t.TgZ(0,"div",3)(1,"b"),t._uU(2,"Flavor Text: "),t.qZA(),t.TgZ(3,"i"),t._uU(4),t.qZA()()),2&e){const a=t.oxw(2);t.xp6(4),t.Oqu(a.card.flavor)}}function M(e,c){if(1&e&&(t.TgZ(0,"div",3)(1,"b"),t._uU(2,"P/T: "),t.qZA(),t._uU(3),t.qZA()),2&e){const a=t.oxw(2);t.xp6(3),t.AsE("",a.card.power,"/",a.card.toughness,"")}}function _(e,c){if(1&e&&(t.ynx(0),t.YNc(1,I,1,1,"img",2),t.TgZ(2,"h2"),t._uU(3),t.qZA(),t.TgZ(4,"div",3)(5,"b"),t._uU(6,"Mana Cost: "),t.qZA(),t.TgZ(7,"div",4),t._uU(8),t.ALo(9,"manaCostIcons"),t.qZA()(),t.TgZ(10,"div",3)(11,"b"),t._uU(12,"Converted Mana Cost: "),t.qZA(),t._uU(13),t.qZA(),t.TgZ(14,"div",3)(15,"b"),t._uU(16,"Types: "),t.qZA(),t._uU(17),t.qZA(),t.TgZ(18,"div",3)(19,"b"),t._uU(20,"Card Text: "),t.qZA(),t.TgZ(21,"div",5),t._uU(22),t.ALo(23,"textIcons"),t.qZA()(),t.YNc(24,U,5,1,"div",6),t.YNc(25,M,4,2,"div",6),t.TgZ(26,"div",3)(27,"b"),t._uU(28,"Set Name: "),t.qZA(),t._uU(29),t.qZA(),t.TgZ(30,"div",3)(31,"b"),t._uU(32,"Rarity: "),t.qZA(),t._uU(33),t.qZA(),t.TgZ(34,"div",3)(35,"b"),t._uU(36,"Artist: "),t.qZA(),t._uU(37),t.qZA(),t.BQk()),2&e){const a=t.oxw();t.xp6(1),t.Q6J("ngIf",a.card.imageUrl),t.xp6(2),t.Oqu(a.card.name),t.xp6(5),t.Oqu(t.lcZ(9,11,a.card.manaCost)),t.xp6(5),t.Oqu(a.card.cmc),t.xp6(4),t.Oqu(a.card.type),t.xp6(5),t.Oqu(t.lcZ(23,13,a.card.text)),t.xp6(2),t.Q6J("ngIf",a.card.flavor),t.xp6(1),t.Q6J("ngIf",a.card.power&&a.card.toughness),t.xp6(4),t.Oqu(a.card.setName),t.xp6(4),t.Oqu(a.card.rarity),t.xp6(4),t.Oqu(a.card.artist)}}const q=function(){return["/"]},z=[{path:":id",component:(()=>{class e{constructor(a,o,n){this.route=a,this.cardService=o,this.stateService=n,this.alive=!0}ngOnInit(){const{id:a}=this.route.snapshot.params;this.cardService.card.pipe((0,C.o)(()=>this.alive),(0,x.h)(n=>!!n),(0,x.h)(n=>{try{return this.card=n,console.log(n),n.multiverseid===parseInt(a,10)}catch{return!1}})).subscribe(n=>{this.card=n});const o=this.stateService.card.getValue();this.cardService.card.next(o),this.cardService.loadCard(a)}ngOnDestroy(){this.alive=!1}}return e.\u0275fac=function(a){return new(a||e)(t.Y36(h.gz),t.Y36(f),t.Y36(v.G))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-card"]],decls:5,vars:4,consts:[[3,"routerLink"],[4,"ngIf"],[3,"src",4,"ngIf"],[1,"p"],["id","manaCost"],["id","text"],["class","p",4,"ngIf"],[3,"src"]],template:function(a,o){1&a&&(t.TgZ(0,"h4")(1,"a",0),t._uU(2,"Return to search"),t.qZA()(),t.YNc(3,T,2,0,"div",1),t.YNc(4,_,38,15,"ng-container",1)),2&a&&(t.xp6(1),t.Q6J("routerLink",t.DdM(3,q)),t.xp6(2),t.Q6J("ngIf",!o.card),t.xp6(1),t.Q6J("ngIf",o.card))},dependencies:[g.O5,h.yS,u.Ou,A,Z],styles:[".header-container[_ngcontent-%COMP%]{width:100%;height:80px;background-color:#000;display:flex;align-items:center;justify-content:center}img[_ngcontent-%COMP%]{max-height:80px;object-fit:scale-down}mat-spinner[_ngcontent-%COMP%]{display:block;margin:auto}img[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], .p[_ngcontent-%COMP%]{display:block;margin:auto;text-align:center;padding-bottom:10px;white-space:pre-line}#manaCost[_ngcontent-%COMP%]{display:inline;text-align:center}h4[_ngcontent-%COMP%]{margin-left:10px}"]}),e})()}];let O=(()=>{class e{}return e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[h.Bz.forChild(z),h.Bz]}),e})(),b=(()=>{class e{}return e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({providers:[f],imports:[g.ez,O,p.JF,u.Cq]}),e})()}}]);