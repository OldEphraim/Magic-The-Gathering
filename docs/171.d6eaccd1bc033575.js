"use strict";(self.webpackChunkmagic_app_2=self.webpackChunkmagic_app_2||[]).push([[171],{1171:(P,p,d)=>{d.r(p),d.d(p,{CardModule:()=>S});var g=d(6895),h=d(529),u=d(5678),m=d(9685),_=d(2529),x=d(9300),t=d(4650),v=d(1135);let f=(()=>{class e{constructor(n){this.http=n,this.card=new v.X(null)}loadCard(n){this.http.get(`https://api.magicthegathering.io/v1/cards/${n}`).subscribe(s=>{const{card:a=null}=s;this.card.next(a)})}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(h.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var C=d(7227);let y=(()=>{class e{transform(n){let a=n.match(/{(.*?)}/g),r=[];for(let i=0;i<a.length;i++)3===a[i].length&&"T"!==a[i].charAt(1)&&r.push(`<img style="max-height:14px;" src="https://gatherer.wizards.com/Handlers/Image.ashx?size=medium&name=${a[i].charAt(1)}&type=symbol" alt="${a[i].charAt(1)}"></img>`),3===a[i].length&&"T"===a[i].charAt(1)&&r.push('<img style="max-height:14px;" src="https://gatherer.wizards.com/Handlers/Image.ashx?size=medium&name=tap&type=symbol" alt="tap"></img>'),5===a[i].length&&"/"===a[i].charAt(2)&&r.push(`<img style="max-height:14px;" src="https://gatherer.wizards.com/Handlers/Image.ashx?size=medium&name=${a[i].charAt(1)}${a[i].charAt(3)}&type=symbol" alt="${a[i].charAt(1)}${a[i].charAt(3)}"></img>`),a[i].length>3&&"/"!==a[i].charAt(2)&&r.push(`<img style="max-height:14px;" src="https://gatherer.wizards.com/Handlers/Image.ashx?size=medium&name=${a[i].slice(1,a[i].length-1)}&type=symbol" alt="${a[i].slice(1,a[i].length-1)}"></img>`);return document.getElementById("manaCost").innerHTML=r.join(""),r.join("")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275pipe=t.Yjl({name:"manaCostIcons",type:e,pure:!0}),e})(),A=(()=>{class e{transform(n){let s=/{(.*?)}/g,a=n.match(s),r=n.split(s);for(let c=0;c<r.length;c++)if(1===r[c].length)for(let l=0;l<a.length;l++)a[l].charAt(1)===r[c]&&(r[c]=a[l]);let i=[];if(null===a)return n;if(null!==a){for(let c=0;c<r.length;c++)"{"===r[c].charAt(0)?(3===r[c].length&&"T"!==r[c].charAt(1)&&i.push(`<img style="max-height:14px;" src="https://gatherer.wizards.com/Handlers/Image.ashx?size=medium&name=${r[c].charAt(1)}&type=symbol" alt="${r[c].charAt(1)}"></img>`),3===r[c].length&&"T"===r[c].charAt(1)&&i.push('<img style="max-height:14px;" src="https://gatherer.wizards.com/Handlers/Image.ashx?size=medium&name=tap&type=symbol" alt="tap"></img>'),5===r[c].length&&"/"===r[c].charAt(2)&&i.push(`<img style="max-height:14px;" src="https://gatherer.wizards.com/Handlers/Image.ashx?size=medium&name=${r[c].charAt(1)}${r[c].charAt(3)}&type=symbol" alt="${r[c].charAt(1)}${r[c].charAt(3)}"></img>`),r[c].length>3&&"/"!==r[c].charAt(2)&&i.push(`<img style="max-height:14px;" src="https://gatherer.wizards.com/Handlers/Image.ashx?size=medium&name=${r[c].slice(1,r[c].length-1)}&type=symbol" alt="${r[c].slice(1,r[c].length-1)}"></img>`)):i.push(r[c]);return document.getElementById("text").innerHTML=i.join(""),i.join("")}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275pipe=t.Yjl({name:"textIcons",type:e,pure:!1}),e})();function T(e,o){1&e&&(t.TgZ(0,"div"),t._UZ(1,"mat-spinner"),t.qZA())}function Z(e,o){if(1&e&&(t.TgZ(0,"h2"),t._uU(1),t.qZA()),2&e){const n=t.oxw(2);t.xp6(1),t.Oqu(n.card.name)}}function I(e,o){if(1&e&&(t.TgZ(0,"div",4)(1,"b"),t._uU(2,"Mana Cost: "),t.qZA(),t.TgZ(3,"div",5),t._uU(4),t.ALo(5,"manaCostIcons"),t.qZA()()),2&e){const n=t.oxw(2);t.xp6(4),t.Oqu(t.lcZ(5,1,n.card.manaCost))}}function w(e,o){if(1&e&&(t.TgZ(0,"div",4)(1,"b"),t._uU(2,"Converted Mana Cost: "),t.qZA(),t._uU(3),t.qZA()),2&e){const n=t.oxw(2);t.xp6(3),t.Oqu(n.card.cmc)}}function U(e,o){if(1&e&&(t.TgZ(0,"div",4)(1,"b"),t._uU(2,"Types: "),t.qZA(),t._uU(3),t.qZA()),2&e){const n=t.oxw(2);t.xp6(3),t.Oqu(n.card.type)}}function M(e,o){if(1&e&&(t.TgZ(0,"div",4)(1,"b"),t._uU(2,"Card Text: "),t.qZA(),t.TgZ(3,"div",6),t._uU(4),t.ALo(5,"textIcons"),t.qZA()()),2&e){const n=t.oxw(2);t.xp6(4),t.Oqu(t.lcZ(5,1,n.card.text))}}function q(e,o){if(1&e&&(t.TgZ(0,"div",4)(1,"b"),t._uU(2,"Flavor Text: "),t.qZA(),t.TgZ(3,"i"),t._uU(4),t.qZA()()),2&e){const n=t.oxw(2);t.xp6(4),t.Oqu(n.card.flavor)}}function z(e,o){if(1&e&&(t.TgZ(0,"div",4)(1,"b"),t._uU(2,"P/T: "),t.qZA(),t._uU(3),t.qZA()),2&e){const n=t.oxw(2);t.xp6(3),t.AsE("",n.card.power,"/",n.card.toughness,"")}}function O(e,o){if(1&e&&(t.TgZ(0,"div",4)(1,"b"),t._uU(2,"Set Name: "),t.qZA(),t._uU(3),t.qZA()),2&e){const n=t.oxw(2);t.xp6(3),t.Oqu(n.card.setName)}}function b(e,o){if(1&e&&(t.TgZ(0,"div",4)(1,"b"),t._uU(2,"Rarity: "),t.qZA(),t._uU(3),t.qZA()),2&e){const n=t.oxw(2);t.xp6(3),t.Oqu(n.card.rarity)}}function Y(e,o){if(1&e&&(t.TgZ(0,"div",4)(1,"b"),t._uU(2,"Artist: "),t.qZA(),t._uU(3),t.qZA()),2&e){const n=t.oxw(2);t.xp6(3),t.Oqu(n.card.artist)}}function J(e,o){if(1&e&&(t.ynx(0),t._UZ(1,"img",2),t.YNc(2,Z,2,1,"h2",1),t.YNc(3,I,6,3,"div",3),t.YNc(4,w,4,1,"div",3),t.YNc(5,U,4,1,"div",3),t.YNc(6,M,6,3,"div",3),t.YNc(7,q,5,1,"div",3),t.YNc(8,z,4,2,"div",3),t.YNc(9,O,4,1,"div",3),t.YNc(10,b,4,1,"div",3),t.YNc(11,Y,4,1,"div",3),t.BQk()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("src",n.card.imageUrl,t.LSH),t.xp6(1),t.Q6J("ngIf",n.card.name),t.xp6(1),t.Q6J("ngIf",n.card.manaCost),t.xp6(1),t.Q6J("ngIf",n.card.cmc),t.xp6(1),t.Q6J("ngIf",n.card.type),t.xp6(1),t.Q6J("ngIf",n.card.text),t.xp6(1),t.Q6J("ngIf",n.card.flavor),t.xp6(1),t.Q6J("ngIf",n.card.power&&n.card.toughness),t.xp6(1),t.Q6J("ngIf",n.card.setName),t.xp6(1),t.Q6J("ngIf",n.card.rarity),t.xp6(1),t.Q6J("ngIf",n.card.artist)}}const $=function(){return["/"]},N=[{path:":id",component:(()=>{class e{constructor(n,s,a){this.route=n,this.cardService=s,this.stateService=a,this.alive=!0}ngOnInit(){const{id:n}=this.route.snapshot.params;this.cardService.card.pipe((0,_.o)(()=>this.alive),(0,x.h)(a=>!!a),(0,x.h)(a=>{try{a.multiverseid===n&&(this.card=a)}catch{return!1}})).subscribe(a=>{this.card=a});const s=this.stateService.card.getValue();this.cardService.card.next(s),this.cardService.loadCard(n)}ngOnDestroy(){this.alive=!1}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(m.gz),t.Y36(f),t.Y36(C.G))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-card"]],decls:5,vars:4,consts:[[3,"routerLink"],[4,"ngIf"],[3,"src"],["class","p",4,"ngIf"],[1,"p"],["id","manaCost"],["id","text"]],template:function(n,s){1&n&&(t.TgZ(0,"h4")(1,"a",0),t._uU(2,"Return to search"),t.qZA()(),t.YNc(3,T,2,0,"div",1),t.YNc(4,J,12,11,"ng-container",1)),2&n&&(t.xp6(1),t.Q6J("routerLink",t.DdM(3,$)),t.xp6(2),t.Q6J("ngIf",!s.card),t.xp6(1),t.Q6J("ngIf",s.card))},dependencies:[g.O5,m.yS,u.Ou,y,A],styles:["mat-spinner[_ngcontent-%COMP%]{display:block;margin:auto}img[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], .p[_ngcontent-%COMP%]{display:block;margin:auto;text-align:center;padding-bottom:10px;white-space:pre-line}#manaCost[_ngcontent-%COMP%]{display:inline;text-align:center}h4[_ngcontent-%COMP%]{margin-left:10px}#text[_ngcontent-%COMP%]{display:block;margin:auto;max-width:400px;text-align:center}"]}),e})()}];let Q=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[m.Bz.forChild(N),m.Bz]}),e})(),S=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({providers:[f,C.G],imports:[g.ez,Q,h.JF,u.Cq]}),e})()}}]);